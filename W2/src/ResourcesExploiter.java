/**
 * Lớp ResourcesExploiter đại diện cho tài nguyên chia sẻ dùng chung
 * Biến rsc sẽ được truy cập và thay đổi bởi nhiều luồng
 */
public class ResourcesExploiter {
    // Biến private đại diện cho tài nguyên chia sẻ
    private int rsc;
    
    /**
     * Phương thức khởi tạo
     * @param n giá trị khởi tạo cho tài nguyên
     */
    public ResourcesExploiter(int n) {
        rsc = n;
    }
    
    /**
     * Phương thức set giá trị cho tài nguyên
     * @param n giá trị mới
     */
    public void setRsc(int n) {
        rsc = n;
    }
    
    /**
     * Phương thức lấy giá trị của tài nguyên
     * @return giá trị hiện tại của rsc
     */
    public int getRsc() {
        return rsc;
    }
    
    /**
     * Phương thức exploit() tăng giá trị rsc lên 1 đơn vị
     * Đây là nơi có thể xảy ra race condition
     */
    public void exploit() {
        setRsc(getRsc() + 1);
    }
}